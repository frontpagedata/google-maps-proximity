---
title: "Google Maps Ranking - Proximity Study"
author: |
  | Lead: Chris Dreyer ([rankings.io](https://rankings.io/))
  | Support: Fran√ßois Delavy & Daniel Kupka ([frontpagedata.com](https://frontpagedata.com/))
date: "Last updated on 2021-06-22"
output:
  html_document:
    theme: paper
    highlight: kate
    # code_folding: hide
    toc: true
    toc_depth: 3
    toc_float: true
    number_sections: true
    keep_md: true # keep the intermediary files, including the plots as .png
editor_options: 
  chunk_output_type: console
---


<style>
.list-group-item.active, .list-group-item.active:hover, .list-group-item.active:focus {
background-color: #D21D5C;
border-color: #D21D5C;
}

body {
font-family: 'Alegreya Sans', sans-serif;
color: #333333;
font-size: 18px;
}

h1 {
font-weight: bold;
font-size: 28px;
}

h1.title {
font-size: 30px;
color: #D21D5C;
}

h2 {
font-size: 24px;
}

h3 {
font-size: 18px;
}
</style>













# Introduction

Google relies on user proximity to provide local results for keywords. How vital is the proximity factor? How fast does the ranking decrease by distance from the location of a business?  

The study's goals are to estimate the drop in the ranking by geographical distance and to measure the variability due to the local context (city).

## Methods

For this study, we focused on personal injury lawyers in major US cities. We collected 20 top-ranking personal injury lawyers in each of the 50 largest cities. 

For each of these law firms, we used the service [Local Falcon](https://www.localfalcon.com/) to collect Google My Business rankings for listings that show up either in the Maps portion of the organic search or from a search in the Google Maps Local Finder (i.e. Google Maps).

We collected their rankings for the keyword _car accident lawyer_ at 225 locations on a 15x15 grid centered on their geographic location.  

This is an example for the city of Miami:  
![example_miami_1](../doc/example_scan_miami_1.png){#id .class width=80% height=80%}   

At the location of the law firm, it ranks 1st for the keyword _car accident lawyer_. Its ranking drops, however, as soon we are further away from its location. At the fringe of the grid, the law firm does not appear anymore in the top 20 (its exact ranking is not tracked anymore by Local Falcon).   

This drop in the ranking can vary drastically between law firms, even in the same city. We see this variation if we flank our initial example with two other samples from Miami:    
![example_miami_2](../doc/example_scan_miami_2.png){#id .class width=32% height=32%} ![example_miami_1](../doc/example_scan_miami_1.png){#id .class width=32% height=32%} ![example_miami_3](../doc/example_scan_miami_3.png){#id .class width=32% height=32%}    
On the left, we see a very rapid drop in the ranking. On the right, we witness the case of a law firm's ranking that does not drop much. The grid is always centered on the location of the target law firm.     

To account for this high variation between the firms, we need to gather several samples in each city; we collected 20. We used a radius of 10 miles. This allows us to highlight the drop in ranking around the firm's exact location and identify the distance where most firms drop out of the top 20. 
Furthermore, for the ten largest cities, we also collected ten samples at a 5 miles radius, a finer granularity, to better highlight the drop in ranking around the firm's location.   

After collecting the data, we can reproduce the grid shown above with a heat map. Below is for instance the same law firm. Each tile is the rank of the law firm observed by Local Falcon on the 15x15 grid centered at the firm's location. The grid measures 10 miles by 10 miles.  

<img src="02_analysis_files/figure-html/unnamed-chunk-3-1.png" width="70%" style="display: block; margin: auto;" />

Then, we can visualize on the same 10-mile by 10-mile grid all of the 20 law firm samples collected in Miami (the ten first samples were collected on a 5-mile by 5-mile grid and are not shown below). Sample 12 is the one shown above. We observe that the law firm of sample 11 keeps ranking high even at a high distance, whereas sample law firm 13 directly drops out of the top 20 outside its location.  

<img src="02_analysis_files/figure-html/unnamed-chunk-4-1.png" width="100%" style="display: block; margin: auto;" />



&nbsp;

Most of the 1100 law firms rank 1st at their own location (56%).  

<img src="02_analysis_files/figure-html/unnamed-chunk-5-1.png" width="80%" style="display: block; margin: auto;" />

&nbsp;



We want to compute the ranking _by distance_ to a law firm's location. So, we compute the geographical distance to the location of the target law firm from the latitude and longitude of each of the 225 measurements on the 15x15 grid. We then average the ranking of a law firm by mile distance to its own location.     

**There is a major caveat of the data collected with Local Falcon: Local Falcon does not collect rankings above 20** - the first page of search results; they are just collected as "20+". So, to numerically estimate the decline in ranking, for instance by computing the average rank at a certain distance from a law firm's localization, we need to impute the value of these missing ranks. For the sake of this study, **we assigned the value of 25 to all "20+" measurements**. While this is not perfect and impacts the computation of the average ranking, it still allows us to visualize this decline.   

For instance, with our previous example in Miami, we see that the law firm ranked first at its own location (distance = 0 miles). The ranking drops quickly, and the position of all the measurements taken between 0 and 1 miles averages to ~9. The average rank oscillates then around 20 as from beginning mile 3. The further away from the location, the more often the firm's ranking is high or out of the top 20. We used indeed the value of 25 for "+20", reflected in the average. The average is in orange when above 20, i.e., where law firms rank mostly out of the top 20.    

<img src="02_analysis_files/figure-html/unnamed-chunk-6-1.png" width="80%" style="display: block; margin: auto;" />


To obtain more stable measurements of the drop in ranking, we average the rankings from each law firm, which why we collected 20 samples per city. 


# Observations

## Rank at Each Mile from Location

We start by visualizing the rank at each mile from the center location for each law firm in each city. Each line is a sample - a law firm.   

First, for the most populated and less populated city:  

<img src="02_analysis_files/figure-html/unnamed-chunk-7-1.png" width="100%" style="display: block; margin: auto;" />


Then, for all 50 largest US cities:  

<img src="02_analysis_files/figure-html/unnamed-chunk-8-1.png" width="100%" style="display: block; margin: auto;" />

We observe that the patterns are slightly different between cities. There is nevertheless a consistency: the drop in ranking varies greatly between law firms. Some law firms only see a slight drop in their ranking, even at 5 or 10 miles from their location. Other law firms quickly drop out of the top 20 (showed in orange on the plot).    

&nbsp;

Because there is high variability between the law firms, it is helpful to show the __<span style="color:#D21D5C">average rank at each mile</span>__ to highlight the general trend:  

<img src="02_analysis_files/figure-html/unnamed-chunk-9-1.png" width="100%" style="display: block; margin: auto;" />


And for all 50 cities:  

<img src="02_analysis_files/figure-html/unnamed-chunk-10-1.png" width="100%" style="display: block; margin: auto;" />


Pink signifies the average rank across all law firms. We see that the shape of the average rank by mile is similar between cities: it drops fast in the first mile and then slowly stabilizes.   

It is computed with a 25 rank for the firms outside of the top 20 and for which Local Falcon no longer records the rank. This distorts the "true" average, which is unknown and likely lower at large miles. Another potential distortion is that the ranking is expected to "continuously" decline, and not stabilize at a particular value. The current impression of stabilization of the mean is due to the constant value of 25 attributed to the "+20" measurements. Nevertheless, our method allows for a visualization of an estimate of the average drop in each city. This estimate is just more precise for smaller distances.     



### Drop from Initial Position (Relative Ranking)

To better compare the drop in ranking between law firms and cities, we can visualize their drop from their initial position - the relative ranking. Note that this drop is still computed with a value of 25 for the "+20" measurements.   

First, for the most populated and less populated city:  


<img src="02_analysis_files/figure-html/unnamed-chunk-11-1.png" width="100%" style="display: block; margin: auto;" />


Then, for all 50 cities:  


<img src="02_analysis_files/figure-html/unnamed-chunk-12-1.png" width="100%" style="display: block; margin: auto;" />

The drop is always 0 at the location of the firms. We observe that the shape of the average drop, despite slight variations, is similar between cities.  

We can superimpose all the drops in one single plot to show **the average decline in ranking in relation to the distance from the location of a firm for each city**:  



```{=html}
<div id="htmlwidget-e6bebe5831fa2ec881f2" style="width:100%;height:3150px;" class="girafe html-widget"></div>
<script type="application/json" data-for="htmlwidget-e6bebe5831fa2ec881f2">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e' viewBox='0 0 432.00 360.00'>\n  <g>\n    <defs>\n      <clipPath id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_1'>\n        <rect x='0.00' y='0.00' width='432.00' height='360.00'/>\n      <\/clipPath>\n    <\/defs>\n    <rect x='0.00' y='0.00' width='432.00' height='360.00' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_1' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_1)' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round'/>\n    <defs>\n      <clipPath id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_2'>\n        <rect x='0.00' y='0.00' width='432.00' height='360.00'/>\n      <\/clipPath>\n    <\/defs>\n    <rect x='0.00' y='0.00' width='432.00' height='360.00' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_2' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_2)' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='1.16' stroke-linejoin='round' stroke-linecap='round'/>\n    <defs>\n      <clipPath id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3'>\n        <rect x='50.29' y='40.55' width='375.73' height='286.22'/>\n      <\/clipPath>\n    <\/defs>\n    <polyline points='50.29,272.87 426.02,272.87' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_3' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='50.29,199.77 426.02,199.77' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_4' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='50.29,126.66 426.02,126.66' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_5' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='50.29,53.56 426.02,53.56' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_6' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='67.37,326.77 67.37,40.55' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_7' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='110.06,326.77 110.06,40.55' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_8' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='152.76,326.77 152.76,40.55' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_9' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='195.46,326.77 195.46,40.55' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_10' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='238.16,326.77 238.16,40.55' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_11' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='280.85,326.77 280.85,40.55' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_12' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='323.55,326.77 323.55,40.55' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_13' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='366.25,326.77 366.25,40.55' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_14' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='408.94,326.77 408.94,40.55' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_15' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#EAEAEA' stroke-opacity='1' stroke-width='1.28' stroke-linejoin='round' stroke-linecap='butt'/>\n    <polyline points='67.37,53.56 88.72,176.34 110.06,214.10 131.41,237.29 152.76,229.44 174.11,251.98 195.46,226.64 216.81,260.66 238.16,266.40 259.50,295.38 280.85,280.64 323.55,286.81 366.25,291.46' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_16' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='New York' title='New York'/>\n    <polyline points='67.37,53.56 88.72,159.56 110.06,181.86 131.41,213.63 152.76,221.71 174.11,245.01 195.46,239.68 216.81,242.99 238.16,284.66 259.50,286.54 280.85,299.00 302.20,292.71 323.55,310.52 344.90,302.60' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_17' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Los Angeles' title='Los Angeles'/>\n    <polyline points='67.37,53.56 88.72,165.18 110.06,174.31 131.41,152.35 152.76,173.11 174.11,151.66 195.46,171.86 216.81,158.88 238.16,190.14 280.85,196.72 323.55,201.81 366.25,204.30' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_18' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Chicago' title='Chicago'/>\n    <polyline points='67.37,53.56 88.72,143.19 110.06,191.40 131.41,174.85 152.76,188.95 174.11,186.82 195.46,149.71 216.81,253.79 238.16,257.80 259.50,270.55 280.85,266.68 323.55,269.68' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_19' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Miami' title='Miami'/>\n    <polyline points='67.37,53.56 88.72,192.26 110.06,225.98 131.41,221.31 152.76,232.65 174.11,197.52 195.46,219.82 216.81,264.83 259.50,274.26 302.20,281.93 323.55,288.05' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_20' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Dallas' title='Dallas'/>\n    <polyline points='67.37,53.56 88.72,150.13 110.06,166.02 131.41,190.62 152.76,185.41 174.11,197.56 195.46,188.56 216.81,190.20 238.16,228.30 280.85,236.80 323.55,244.43 366.25,248.28' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_21' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Philadelphia' title='Philadelphia'/>\n    <polyline points='67.37,53.56 88.72,183.62 110.06,205.39 131.41,161.12 152.76,213.12 174.11,196.08 195.46,190.80 216.81,257.10 259.50,271.67 280.85,279.35 323.55,286.30' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_22' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Houston' title='Houston'/>\n    <polyline points='67.37,53.56 88.72,225.94 110.06,242.59 131.41,200.84 152.76,245.56 174.11,195.92 195.46,240.74 216.81,247.54 259.50,277.91 302.20,280.86 344.90,289.32' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_23' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Atlanta' title='Atlanta'/>\n    <polyline points='67.37,53.56 88.72,164.78 110.06,172.25 131.41,188.10 152.76,178.73 174.11,173.84 195.46,194.92 216.81,168.99 238.16,211.97 259.50,159.74 280.85,236.21 302.20,185.77 323.55,233.22 344.90,228.97 366.25,210.93 387.60,185.05 408.94,187.99' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_24' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Washington' title='Washington'/>\n    <polyline points='67.37,53.56 88.72,159.89 110.06,172.42 131.41,179.16 152.76,180.65 174.11,182.02 195.46,174.26 216.81,186.52 238.16,186.44 259.50,197.94 280.85,190.76 302.20,199.22 323.55,192.60 344.90,201.96 366.25,194.77' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_25' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Boston' title='Boston'/>\n    <polyline points='67.37,53.56 88.72,144.21 110.06,152.61 131.41,218.82 152.76,218.13 174.11,267.52 195.46,217.11 216.81,246.02 238.16,262.09 259.50,260.47 280.85,284.11 302.20,276.23 323.55,287.74 344.90,286.07' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_26' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Phoenix' title='Phoenix'/>\n    <polyline points='67.37,53.56 88.72,132.14 110.06,140.19 131.41,142.32 152.76,210.06 174.11,181.85 195.46,238.02 216.81,199.70 238.16,219.44 259.50,203.11 280.85,220.45 302.20,210.08 323.55,221.65 344.90,207.70 366.25,221.15 387.60,213.00 408.94,221.48' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_27' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Seattle' title='Seattle'/>\n    <polyline points='67.37,53.56 88.72,153.71 110.06,161.48 131.41,191.07 152.76,195.79 174.11,222.14 195.46,205.93 216.81,224.01 238.16,220.94 259.50,226.08 280.85,221.66 302.20,230.06 323.55,226.40 344.90,231.70 366.25,234.00' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_28' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='San Francisco' title='San Francisco'/>\n    <polyline points='67.37,53.56 88.72,179.91 110.06,170.86 131.41,223.94 152.76,191.10 174.11,242.67 195.46,201.76 238.16,212.44 280.85,221.28 323.55,227.25 366.25,229.54' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_29' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Detroit' title='Detroit'/>\n    <polyline points='67.37,53.56 88.72,166.50 110.06,176.30 131.41,216.87 152.76,228.75 174.11,275.27 195.46,227.60 216.81,247.05 238.16,247.97 259.50,244.33 280.85,267.75 302.20,250.80 323.55,261.06 344.90,260.56' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_30' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Sa Diego' title='Sa Diego'/>\n    <polyline points='67.37,53.56 88.72,174.34 131.41,171.60 174.11,174.33 216.81,178.18 259.50,198.57 302.20,205.44 344.90,214.73 387.60,222.62' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_31' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Minneapolis' title='Minneapolis'/>\n    <polyline points='67.37,53.56 88.72,217.53 110.06,234.27 131.41,284.38 152.76,241.73 174.11,233.67 195.46,295.17 216.81,257.13 259.50,273.23 280.85,282.32 323.55,291.34' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_32' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Tampa' title='Tampa'/>\n    <polyline points='67.37,53.56 88.72,166.69 110.06,208.86 131.41,278.64 152.76,230.00 174.11,282.56 195.46,233.00 216.81,281.28 238.16,257.32 280.85,265.56 323.55,269.60 344.90,283.83 366.25,271.82' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_33' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Denver' title='Denver'/>\n    <polyline points='67.37,53.56 88.72,156.45 110.06,205.92 131.41,251.30 152.76,225.68 174.11,274.29 195.46,225.25 216.81,276.07 238.16,256.90 259.50,275.79 280.85,270.72 323.55,276.33 366.25,283.98' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_34' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Brooklyn' title='Brooklyn'/>\n    <polyline points='67.37,53.56 88.72,180.39 110.06,232.84 131.41,281.53 152.76,255.76 174.11,306.09 195.46,258.65 216.81,308.78 238.16,293.90 259.50,305.77 280.85,305.23 323.55,307.40 366.25,313.76' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_35' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Queens' title='Queens'/>\n    <polyline points='67.37,53.56 88.72,130.32 110.06,142.74 131.41,176.66 152.76,192.48 174.11,239.93 195.46,201.85 216.81,233.32 238.16,229.84 259.50,237.49 280.85,258.01 302.20,249.68 323.55,264.28 344.90,263.54' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_36' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Riverside' title='Riverside'/>\n    <polyline points='67.37,53.56 88.72,189.77 110.06,203.88 131.41,251.47 152.76,206.51 174.11,258.55 195.46,227.18 216.81,305.77 238.16,240.78 280.85,247.94 323.55,254.20 344.90,258.00 366.25,265.19' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_37' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Baltimore' title='Baltimore'/>\n    <polyline points='67.37,53.56 88.72,137.99 110.06,162.34 131.41,202.31 152.76,207.71 174.11,251.22 195.46,215.74 216.81,251.79 238.16,232.30 259.50,244.83 280.85,245.27 302.20,243.87 323.55,250.63 344.90,251.25 366.25,252.03' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_38' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Las Vegas' title='Las Vegas'/>\n    <polyline points='67.37,53.56 88.72,165.04 110.06,195.74 131.41,185.63 152.76,262.27 174.11,220.42 195.46,274.33 216.81,228.28 238.16,268.12 259.50,236.28 280.85,259.70 302.20,237.18 323.55,255.87 344.90,247.15 366.25,250.48 387.60,250.54 408.94,249.89' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_39' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Portland' title='Portland'/>\n    <polyline points='67.37,53.56 88.72,204.61 110.06,223.00 131.41,262.45 152.76,227.13 174.11,204.76 195.46,253.98 216.81,232.98 259.50,239.66 280.85,242.17 323.55,243.90' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_40' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='San Antonio' title='San Antonio'/>\n    <polyline points='67.37,53.56 88.72,167.03 110.06,164.68 152.76,171.35 195.46,176.59 238.16,195.50 280.85,211.92 302.20,219.77 344.90,230.83' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_41' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='St. Louis' title='St. Louis'/>\n    <polyline points='67.37,53.56 88.72,163.21 110.06,165.59 131.41,188.74 152.76,192.04 174.11,212.52 195.46,202.53 216.81,218.65 238.16,216.24 259.50,223.95 280.85,223.29 302.20,234.44 323.55,226.05 344.90,234.94 366.25,233.53' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_42' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Sacramento' title='Sacramento'/>\n    <polyline points='67.37,53.56 88.72,200.40 110.06,210.78 131.41,245.73 152.76,214.12 174.11,198.60 195.46,237.14 216.81,214.02 259.50,218.80 280.85,219.48 323.55,224.04' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_43' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Orlando' title='Orlando'/>\n    <polyline points='67.37,53.56 88.72,166.50 110.06,168.60 131.41,187.12 152.76,187.66 174.11,203.75 195.46,191.85 216.81,204.09 238.16,200.69 259.50,210.05 280.85,197.92 302.20,204.51 323.55,206.42 344.90,205.29 366.25,210.43' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_44' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='San Jose' title='San Jose'/>\n    <polyline points='67.37,53.56 88.72,153.71 110.06,159.73 131.41,194.11 152.76,168.71 174.11,198.18 195.46,175.13 238.16,194.14 280.85,203.18 323.55,210.83 366.25,216.02' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_45' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Cleveland' title='Cleveland'/>\n    <polyline points='67.37,53.56 88.72,150.63 110.06,153.18 131.41,176.26 152.76,157.63 174.11,186.70 195.46,165.21 238.16,175.42 280.85,178.61 323.55,181.15 366.25,187.80' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_46' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Pittsburgh' title='Pittsburgh'/>\n    <polyline points='67.37,53.56 88.72,192.02 110.06,195.60 131.41,256.97 152.76,206.98 174.11,157.42 195.46,242.44 216.81,212.51 259.50,223.82 280.85,224.06 302.20,240.30 323.55,231.13' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_47' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Austin' title='Austin'/>\n    <polyline points='67.37,53.56 88.72,192.82 110.06,182.09 131.41,222.79 152.76,194.92 195.46,193.26 238.16,204.61 280.85,210.12 323.55,212.73 344.90,218.19' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_48' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Cincinnati' title='Cincinnati'/>\n    <polyline points='67.37,53.56 88.72,206.19 110.06,190.77 131.41,240.52 152.76,197.38 195.46,196.96 238.16,198.86 280.85,206.56 323.55,211.12 344.90,218.24' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_49' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Kansas City' title='Kansas City'/>\n    <polyline points='67.37,53.56 88.72,178.25 110.06,173.42 152.76,174.91 195.46,173.25 238.16,180.37 280.85,185.00 323.55,189.29 344.90,152.09 366.25,221.49' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_50' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Indianapolis' title='Indianapolis'/>\n    <polyline points='67.37,53.56 88.72,160.80 110.06,160.19 131.41,217.07 152.76,174.69 195.46,172.64 238.16,183.49 280.85,190.77 323.55,192.82 366.25,199.98' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_51' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Columbus' title='Columbus'/>\n    <polyline points='67.37,53.56 88.72,186.24 110.06,197.45 131.41,250.33 152.76,208.44 195.46,207.54 216.81,195.41 238.16,227.76 259.50,225.62 302.20,231.35 344.90,238.63' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_52' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Charlotte' title='Charlotte'/>\n    <polyline points='67.37,53.56 88.72,151.88 110.06,165.18 131.41,195.99 152.76,176.12 174.11,201.87 195.46,186.31 238.16,198.13 259.50,207.75 280.85,203.79 302.20,211.61 344.90,215.77' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_53' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Virginia Beach' title='Virginia Beach'/>\n    <polyline points='67.37,53.56 88.72,170.16 110.06,213.53 131.41,246.81 152.76,228.48 174.11,271.41 195.46,226.12 216.81,277.16 238.16,255.13 259.50,279.63 280.85,266.95 323.55,274.89 366.25,280.74' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_54' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Bronx' title='Bronx'/>\n    <polyline points='67.37,53.56 88.72,179.56 110.06,176.54 152.76,179.61 195.46,179.30 238.16,192.31 280.85,198.16 323.55,204.42 366.25,208.05' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_55' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Milwaukee' title='Milwaukee'/>\n    <polyline points='67.37,53.56 88.72,171.25 110.06,190.92 131.41,221.59 152.76,212.41 174.11,233.54 195.46,187.60 216.81,234.40 238.16,219.65 259.50,238.28 280.85,226.20 302.20,238.33 323.55,230.37 366.25,233.88' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_56' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Providence' title='Providence'/>\n    <polyline points='67.37,53.56 88.72,175.55 110.06,185.12 131.41,209.54 152.76,187.95 174.11,169.46 195.46,200.85 216.81,190.77 259.50,195.55 280.85,195.91 302.20,197.68 323.55,200.35' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_57' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Jacksonville' title='Jacksonville'/>\n    <polyline points='67.37,53.56 88.72,139.09 110.06,158.97 131.41,202.64 152.76,201.13 174.11,224.80 195.46,181.00 216.81,223.75 238.16,196.64 259.50,224.53 280.85,198.78 302.20,218.04 323.55,200.28 366.25,202.62' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_58' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Salt Lake City' title='Salt Lake City'/>\n    <polyline points='67.37,53.56 88.72,211.67 110.06,207.51 152.76,208.61 195.46,202.54 238.16,214.63 259.50,216.97 302.20,217.26 344.90,223.04' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_59' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Nashville' title='Nashville'/>\n    <polyline points='67.37,53.56 88.72,172.84 110.06,183.59 131.41,213.75 152.76,190.86 174.11,217.49 195.46,196.57 238.16,208.49 259.50,231.13 280.85,209.93 302.20,212.56 323.55,212.74 344.90,214.19' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_60' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Richmond' title='Richmond'/>\n    <polyline points='67.37,53.56 88.72,172.98 110.06,170.99 152.76,174.59 195.46,175.49 216.81,184.68 259.50,189.29 302.20,192.60 344.90,198.62' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_61' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Memphis' title='Memphis'/>\n    <polyline points='67.37,53.56 88.72,166.02 110.06,186.57 131.41,222.20 152.76,194.68 174.11,228.82 195.46,196.09 238.16,210.32 259.50,215.96 280.85,225.35 302.20,223.48 344.90,231.47' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_62' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Raleigh' title='Raleigh'/>\n    <polyline points='67.37,53.56 88.72,159.66 110.06,157.68 152.76,159.17 174.11,157.56 216.81,162.97 259.50,165.36 280.85,164.97 323.55,165.85' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_63' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='New Orleans' title='New Orleans'/>\n    <polyline points='67.37,53.56 88.72,193.03 110.06,189.97 152.76,194.72 195.46,195.50 238.16,214.07 280.85,224.18 302.20,228.69 344.90,233.73' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_64' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Louisville' title='Louisville'/>\n    <polyline points='67.37,53.56 88.72,172.57 110.06,179.10 131.41,234.03 152.76,186.46 195.46,182.07 216.81,175.80 238.16,189.50 259.50,192.28 302.20,193.58 344.90,197.72' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_65' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' fill='none' stroke='#D21D5C' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' data-id='Oklahoma City' title='Oklahoma City'/>\n    <line x1='373.55' y1='297.10' x2='367.18' y2='292.18' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_66' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round' fill='#FFFFFF' fill-opacity='1'/>\n    <line x1='338.57' y1='313.98' x2='344.38' y2='303.53' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_67' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round' fill='#FFFFFF' fill-opacity='1'/>\n    <line x1='289.35' y1='265.42' x2='322.24' y2='269.51' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_68' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round' fill='#FFFFFF' fill-opacity='1'/>\n    <line x1='295.49' y1='278.90' x2='322.30' y2='285.97' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_69' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round' fill='#FFFFFF' fill-opacity='1'/>\n    <line x1='333.67' y1='279.63' x2='343.84' y2='285.46' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_70' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round' fill='#FFFFFF' fill-opacity='1'/>\n    <line x1='337.58' y1='251.16' x2='344.22' y2='259.70' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_71' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round' fill='#FFFFFF' fill-opacity='1'/>\n    <line x1='321.26' y1='300.53' x2='323.30' y2='292.33' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_72' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round' fill='#FFFFFF' fill-opacity='1'/>\n    <line x1='332.07' y1='259.94' x2='343.65' y2='263.19' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_73' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round' fill='#FFFFFF' fill-opacity='1'/>\n    <line x1='383.12' y1='259.13' x2='367.45' y2='264.76' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_74' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round' fill='#FFFFFF' fill-opacity='1'/>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='375.35' y='301.80' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_75' font-size='6.40pt' font-family='Helvetica'>New York<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='314.45' y='321.90' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_76' font-size='6.40pt' font-family='Helvetica'>Los Angeles<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='264.80' y='268.42' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_77' font-size='6.40pt' font-family='Helvetica'>Miami<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='293.35' y='295.05' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_78' font-size='6.40pt' font-family='Helvetica'>Dallas<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='360.58' y='244.63' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_79' font-size='6.40pt' font-family='Helvetica'>Philadelphia<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='261.91' y='281.71' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_80' font-size='6.40pt' font-family='Helvetica'>Houston<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='341.70' y='300.08' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_81' font-size='6.40pt' font-family='Helvetica'>Atlanta<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='376.26' y='198.75' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_82' font-size='6.40pt' font-family='Helvetica'>Washington<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='301.04' y='281.65' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_83' font-size='6.40pt' font-family='Helvetica'>Phoenix<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='395.87' y='216.78' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_84' font-size='6.40pt' font-family='Helvetica'>Seattle<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='318.26' y='249.36' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_85' font-size='6.40pt' font-family='Helvetica'>Sa Diego<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='307.94' y='308.45' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_86' font-size='6.40pt' font-family='Helvetica'>Tampa<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='371.10' y='275.04' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_87' font-size='6.40pt' font-family='Helvetica'>Denver<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='375.41' y='288.43' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_88' font-size='6.40pt' font-family='Helvetica'>Brooklyn<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='371.14' y='323.17' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_89' font-size='6.40pt' font-family='Helvetica'>Queens<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='294.72' y='262.72' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_90' font-size='6.40pt' font-family='Helvetica'>Riverside<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='384.92' y='261.70' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_91' font-size='6.40pt' font-family='Helvetica'>Baltimore<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='337.45' y='261.66' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_92' font-size='6.40pt' font-family='Helvetica'>Las Vegas<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='390.65' y='245.20' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_93' font-size='6.40pt' font-family='Helvetica'>Portland<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='336.96' y='183.14' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_94' font-size='6.40pt' font-family='Helvetica'>Pittsburgh<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='339.02' y='275.20' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_95' font-size='6.40pt' font-family='Helvetica'>Bronx<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_3)'>\n      <text x='288.72' y='161.16' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_96' font-size='6.40pt' font-family='Helvetica'>New Orleans<\/text>\n    <\/g>\n    <defs>\n      <clipPath id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4'>\n        <rect x='0.00' y='0.00' width='432.00' height='360.00'/>\n      <\/clipPath>\n    <\/defs>\n    <polyline points='50.29,326.77 50.29,40.55' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_97' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='1.71' stroke-linejoin='round' stroke-linecap='butt'/>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='31.24' y='276.12' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_98' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>-15<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='31.24' y='203.02' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_99' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>-10<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='36.46' y='129.91' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_100' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>-5<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='39.69' y='56.81' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_101' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>0<\/text>\n    <\/g>\n    <polyline points='50.29,326.77 426.02,326.77' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_102' clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='1.71' stroke-linejoin='round' stroke-linecap='butt'/>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='64.76' y='338.65' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_103' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>0<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='107.45' y='338.65' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_104' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>2<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='150.15' y='338.65' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_105' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>4<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='192.85' y='338.65' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_106' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>6<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='235.55' y='338.65' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_107' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>8<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='275.63' y='338.65' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_108' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>10<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='318.33' y='338.65' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_109' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>12<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='361.03' y='338.65' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_110' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>14<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='403.72' y='338.65' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_111' font-size='6.75pt' font-weight='bold' font-family='FiraSans-Regular'>16<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='123.58' y='351.59' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_112' font-size='8.25pt' font-weight='bold' font-family='FiraSans-Regular'>Distance in miles to the location of the law firm<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text transform='translate(13.93,231.01) rotate(-90.00)' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_113' font-size='8.25pt' font-weight='bold' font-family='FiraSans-Regular'>Drop in the ranking<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text transform='translate(25.81,217.02) rotate(-90.00)' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_114' font-size='8.25pt' font-weight='bold' font-family='FiraSans-Regular'>(indexed at 0)<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='5.98' y='32.35' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_115' font-size='7.50pt' font-family='FiraSans-Regular'>Hover on a line to highlight a particular city<\/text>\n    <\/g>\n    <g clip-path='url(#svg_f18a81bc-1622-42db-8370-f8f014e4b96e_cl_4)'>\n      <text x='5.98' y='16.10' id='svg_f18a81bc-1622-42db-8370-f8f014e4b96e_el_116' font-size='10.50pt' font-weight='bold' font-family='FiraSans-Regular'>Average Drop by Mile in each City<\/text>\n    <\/g>\n  <\/g>\n<\/svg>","js":null,"uid":"svg_f18a81bc-1622-42db-8370-f8f014e4b96e","ratio":1.2,"settings":{"tooltip":{"css":".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px 2px 2px 2px;text-align:left; ; position:absolute;pointer-events:none;z-index:999;}\n","placement":"doc","offx":10,"offy":0,"use_cursor_pos":true,"opacity":0.9,"usefill":false,"usestroke":false,"delay":{"over":200,"out":500}},"hover":{"css":".hover_SVGID_ { stroke-width:2; }","reactive":false},"hoverkey":{"css":".hover_key_SVGID_ { stroke:red; }","reactive":false},"hovertheme":{"css":".hover_theme_SVGID_ { fill:green; }","reactive":false},"hoverinv":{"css":".hover_inv_SVGID_ { opacity:0.1; }"},"zoom":{"min":1,"max":1},"capture":{"css":".selected_SVGID_ { fill:red;stroke:gray; }","type":"multiple","only_shiny":true,"selected":[]},"capturekey":{"css":".selected_key_SVGID_ { stroke:gray; }","type":"single","only_shiny":true,"selected":[]},"capturetheme":{"css":".selected_theme_SVGID_ { stroke:gray; }","type":"single","only_shiny":true,"selected":[]},"toolbar":{"position":"topright","saveaspng":true,"pngname":"diagram"},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}</script>
```

Again, the average is computed with a constant value of "25" for the samples out of the top 20. This explains the stabilization of the curve at large distances. Nevertheless, all cities see a drop of -5 to -12 in the average ranking of the law firms in the first mile. The fall seems to be larger in the Queens than in New Orleans.    






### The Drop Follows a Rule of Exponential Decay

As we just saw, the drop in terms of ranking has a similar shape in all cities. The drop seems to follow more or less a rule of [exponential decay](https://en.wikipedia.org/wiki/Exponential_decay): it decreases at a rate proportional to its current value. At first, it falls fast and then reaches stability.  

The _exponential decay function_ can be formalized like this:   

$Drop(d) = (Drop0 - DropFinal)* e^{-Œªd} + DropFinal$  

Where $Drop(d)$ is the drop at a distance $d$ and $Œª$ is the decay constant. $Drop0$ is the intercept, the drop at distance 0. The parameter $DropFinal$ is included as a "correction" because we work with negative values (the drops in position are encoded as "-1", "-2", etc.).  

When fitting an _exponential decay function_ to the average, we estimate $Œª$. If we have an estimate of $Œª$, we can use the _exponential decay function_ to calculate the drop which would be expected, on average, at a certain distance $d$.  

We start by illustrating the decay with all the samples taken in all cities together. To better estimate the exponential decay function, we average the data each tenth of a mile. In pink, we see the average drop in ranking regardless of the city:   

<img src="02_analysis_files/figure-html/unnamed-chunk-15-1.png" width="100%" style="display: block; margin: auto;" />

Then we can fit an _exponential decay function_ to the average, in green:   


<img src="02_analysis_files/figure-html/unnamed-chunk-16-1.png" width="100%" style="display: block; margin: auto;" />


An _exponential decay function_ fits the average drop very well. The _decay constant_ $Œª$ estimated by the fit is 2.3. The other two constants are estimated as $Dropfinal$ = -11.9 and $Drop0$ = -2.1. Note that the estimated drop at a distance of 0 mile is thus -2.1, which is not perfect as we know that it should be 0.   

We could use it to estimate the expected drop in ranking at any distance for an average law firm. For instance, the estimated drop at 1000 yards (0.59 mile) would be of $Drop(0.59) = (-2.1 + 11.9)* e^{-2.3 * 0.59}) - 11.9$ = -9.4 positions.  

This is just an estimate based on an average. We see on the plots above that, in reality, law firms drop following all sort of trajectories, as illustrated by the plot being "filled" by black lines between 0 and -20. Note also that the caveat of having imputed missing "+20" measurements with the constant value of 25 impacts the average and thus the fit, especially the final stabilized value of -11.9 for the drop.  

Nevertheless, it is possible to fit such an exponential decay function separately for the averages in all cities. It would allow us to compute predictions of what the typical drop would look like in each city.     

For simplicity, here is the same plot showing only the average on all law firms and the _exponential decay_ fit:  

<img src="02_analysis_files/figure-html/unnamed-chunk-17-1.png" width="100%" style="display: block; margin: auto;" />









## When are Law Firms Dropping Out of the Top 20?

Google Maps shows 20 results on the first search page and Local Falcon does not collect rankings above the top 20. We saw above that the ranking was dropping fast in the first mile and that not all the firms were dropping out of the top 20 after 10 miles. And this, in all cities, regardless of their area.  

For example, a 10-mile radius is enough to cover the city of Boston and its surroundings completely, but this is not the case in Los Angeles. However, in both cases, we identify companies that exit the top 20 after 5 or 10 miles and others that do not leave the top 20.  

**How does the proportion of law firms out of the top 20 change with distance?**   

We first have a look at New York and Oklahoma City:  

<img src="02_analysis_files/figure-html/unnamed-chunk-20-1.png" width="100%" style="display: block; margin: auto;" />

There is a radical difference here. The percentage of law firms that dropped out of the top 20 rises to 80% in New York, after around 10 miles. Whereas in Oklahoma City, this number never rises above 30%; a larger proportion of law firms rank well, even at large distances.   

The same figure, for all the 50 largest U.S. cities:  

<img src="02_analysis_files/figure-html/unnamed-chunk-21-1.png" width="100%" style="display: block; margin: auto;" />

The percentage of law firms that exited the top 20 at the largest distance ranges from 27% in Pittsburgh to 92% in Queens. 

The cities appear by population size. It seems that the percentage of law firms that can remain in the top 20 is lower in the largest cities.    

__This measure is likely an estimate of the competition in each city.__   

Note that these percentages are computed on 20 sample law firms. Please laso note that the largest distance is not exactly the same in all cities. These differences are due to the precision of Local Falcon, geolocalization, and computation of geographical distance from coordinates. 






# Summary and Key Observations

We sampled 20 personal injury law firms in the 50 largest U.S. cities. For each, we measured their ranking for the keyword "car accident lawyer" at 225 locations dispersed on a squared grid with a 10-mile "radius" around the original location of the firm, using Local Falcon (+ 10 samples with a radius of 5 miles for the ten largest cities).   

We then compute the rankings and relative ranking (drop) of each law firm for each mile away from its location, as well as the percentage of the firms leaving the top 20 positions.  

## Key Observations 

1. __The ranking drops dramatically in the first mile__; in all cities. On average, the drop in ranking in the first mile is -8 positions.   

2. __The drop in ranking varies greatly between law firms. Some top-ranking firms do not even see a dip__ in the 10-mile radius. This means that there is probably no distance guaranteeing that all of the law firms in a given city drop out of the top 20. __On the other hand, some law firms drop very quickly out of the top 20__. Often, these are firms that already did not rank 1st at their own location.        

3. After the quick drop, the average ranking stabilizes or decreases much slower. This effect is partly due to observation 2: we compute an average between law firms still ranking well, and law firms with a ranking imputed to 25 because they are out of the top 20. This effect, albeit with some slight variations, is seen in all cities.  

4. This drop in the ranking follows an _exponential decay rule_, and this rule could be used to estimate the expected drop for any firm in any city at any distance. Caveats: in reality, the variance between the law firms is considerable and this is just an estimate of their average. Furthermore, this rule is based on assigning the value 25 to the "+20" ranks.         

5. __The percentage of law firms that dropped out of the top 20 for each mile distance varies a lot between cities__. In most cities, the most significant increase of law firms dropping out of the top 20 is taking place in the first mile. The maximum of companies out of the top 20 varies dramatically between cities, ranging from 27% in Pittsburgh to 92% in Queens. These percentages can be used to estimate the probability of a law firm to rank in (or out) of the top 20 in each city at each mile. __These results are likely a reflection of the competition among personal injury lawyers in each city__.   





